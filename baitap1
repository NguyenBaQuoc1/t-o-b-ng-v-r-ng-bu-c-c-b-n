CREATE DATABASE ThongTinSV
GO

CREATE TABLE T2203M (
    NameSV NVARCHAR(50) , 
    Age INT , 
    NgaySinh DATETIME , 
)
GO

INSERT INTO T2203M(NameSV,Age,NgaySinh) VALUES ('NGUYEN BA QUOC' , 18 , '12-11-2004')
INSERT INTO T2203M(NameSV,Age,NgaySinh) VALUES ('NGUYEN DINH HIEN' , 18 , '11-11-2004')
INSERT INTO T2203M(NameSV,Age,NgaySinh) VALUES ('TONG MINH DUONG' , 18 , '10-11-2004')
INSERT INTO T2203M(NameSV,Age,NgaySinh) VALUES ('DOAN CHI BINH' , 18 , '09-11-2004')
GO

ALTER TABLE T2203M
ADD  StudentID UNIQUEIDENTIFIER DEFAULT NEWID() NOT NULL 
GO

ALTER TABLE T2203M
ADD PRIMARY KEY (StudentID)
GO

CREATE TABLE LopHoc (
    MaLop VARCHAR(10) PRIMARY KEY NOT NULL,
    TenLop VARCHAR(20)
)
GO

USE ThongTinSV
EXEC sp_rename 'T2203M' , 'Student'
GO

ALTER TABLE Student
ADD MaLop VARCHAR(10)
GO

ALTER TABLE Student 
ADD CONSTRAINT fkstudent FOREIGN KEY (MaLop) REFERENCES LopHoc(MaLop)
GO


INSERT INTO LopHoc(MaLop,TenLop) VALUES (1 , 'T2203M')
GO

INSERT INTO Student(MaLop) VALUES (1)
GO

UPDATE Student set Age = 18 WHERE StudentID = 'bd21ff56-4a45-4d16-b6af-5e00ffd320b7'
UPDATE Student set NameSV = 'Mai Xuan Tien' WHERE StudentID = 'bd21ff56-4a45-4d16-b6af-5e00ffd320b7'
UPDATE Student set NgaySinh = '01-01-2004' WHERE StudentID = 'bd21ff56-4a45-4d16-b6af-5e00ffd320b7'
GO

ALTER TABLE Student 
ALTER COLUMN NgaySinh DATE


SELECT * FROM LopHoc

